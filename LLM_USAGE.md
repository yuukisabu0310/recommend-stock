# LLM機能について

## 現状

このアプリは**デフォルトでLLM（OpenAI API）を使用しません**。テンプレートベースの分析で十分に機能します。

## LLMを使う場合

LLM機能を有効化すると、より自然な文章生成が可能になりますが、以下の点に注意してください：

### メリット

- より自然で柔軟な文章表現
- データに基づいた文脈のある説明

### デメリット

- **コストがかかる**（OpenAI APIの使用料金）
- APIキーの管理が必要
- フォールバック機能と比較して、本質的な分析内容はほぼ同じ

### 有効化方法

1. `config/config.yml` で `ai.enabled: true` に設定
2. 環境変数 `OPENAI_API_KEY` を設定
   - ローカル: `.env` ファイルに設定
   - GitHub Actions: リポジトリの Secrets に設定

### 推奨される用途

現状の実装では、LLMは以下の用途で使用されています：

1. **市場分析文章の生成**
   - スコアとデータから「結論」「前提」「リスク」「転換シグナル」を生成
   - フォールバック機能でも同様の内容を生成可能

2. **セクター分析**
   - 市場データから注目セクターを特定
   - フォールバック機能では固定のセクターリストを使用

3. **銘柄推奨の説明文**
   - テクニカル指標に基づいて説明文を生成
   - フォールバック機能でも同様の説明を生成

### 今後の改善案

LLMをより本質的な分析に活用する場合のアイデア：

- **ニュース分析**: 金融ニュースを要約・解釈
- **センチメント分析**: SNSやニュースの感情分析
- **レポート解析**: 企業IR情報やアナリストレポートの分析
- **異常検知**: データパターンから異常を検出

これらの機能を実装する場合、LLMの価値は高まります。

## 結論

**現状ではLLMなしでも十分に機能します。** コストをかける価値があるかどうかは、ユーザーの判断に委ねます。

